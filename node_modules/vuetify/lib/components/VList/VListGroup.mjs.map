{"version":3,"file":"VListGroup.mjs","names":["VDefaultsProvider","VExpandTransition","useList","IconValue","makeTagProps","useNestedGroupActivator","useNestedItem","computed","toRef","defineComponent","genericComponent","pick","propsFactory","useRender","VListGroupActivator","name","setup","_","slots","default","makeVListGroupProps","activeColor","String","color","collapseIcon","type","expandIcon","prependIcon","appendIcon","fluid","Boolean","subgroup","value","VListGroup","props","title","isOpen","open","id","_id","list","onClick","e","activatorProps","class","toggleIcon","hasPrepend","activator","VListItem","active","filterListGroupProps","Object","keys"],"sources":["../../../src/components/VList/VListGroup.tsx"],"sourcesContent":["// Components\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VExpandTransition } from '@/components/transitions'\n\n// Composables\nimport { useList } from './list'\nimport { IconValue } from '@/composables/icons'\nimport { makeTagProps } from '@/composables/tag'\nimport { useNestedGroupActivator, useNestedItem } from '@/composables/nested/nested'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { defineComponent, genericComponent, pick, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { InternalListItem } from './VList'\nimport type { SlotsToProps } from '@/util'\nimport type { ExtractPropTypes, Ref } from 'vue'\n\nexport type ListGroupActivatorSlot = {\n  props: {\n    onClick: (e: Event) => void\n    class: string\n  }\n}\n\nconst VListGroupActivator = defineComponent({\n  name: 'VListGroupActivator',\n\n  setup (_, { slots }) {\n    useNestedGroupActivator()\n\n    return () => slots.default?.()\n  },\n})\n\nexport const makeVListGroupProps = propsFactory({\n  activeColor: String,\n  color: String,\n  collapseIcon: {\n    type: IconValue,\n    default: '$collapse',\n  },\n  expandIcon: {\n    type: IconValue,\n    default: '$expand',\n  },\n  prependIcon: IconValue,\n  appendIcon: IconValue,\n  fluid: Boolean,\n  subgroup: Boolean,\n  value: null,\n\n  ...makeTagProps(),\n}, 'v-list-group')\n\nexport const VListGroup = genericComponent<new <T extends InternalListItem>() => {\n  $props: {\n    items?: T[]\n  } & SlotsToProps<{\n    activator: [ListGroupActivatorSlot]\n    default: []\n  }>\n}>()({\n  name: 'VListGroup',\n\n  props: {\n    title: String,\n\n    ...makeVListGroupProps(),\n  },\n\n  setup (props, { slots }) {\n    const { isOpen, open, id: _id } = useNestedItem(toRef(props, 'value'), true)\n    const id = computed(() => `v-list-group--id-${String(_id.value)}`)\n    const list = useList()\n\n    function onClick (e: Event) {\n      open(!isOpen.value, e)\n    }\n\n    const activatorProps: Ref<ListGroupActivatorSlot['props']> = computed(() => ({\n      onClick,\n      class: 'v-list-group__header',\n      id: id.value,\n    }))\n\n    const toggleIcon = computed(() => isOpen.value ? props.collapseIcon : props.expandIcon)\n\n    useRender(() => (\n      <props.tag\n        class={[\n          'v-list-group',\n          {\n            'v-list-group--prepend': list?.hasPrepend.value,\n            'v-list-group--fluid': props.fluid,\n            'v-list-group--subgroup': props.subgroup,\n            'v-list-group--open': isOpen.value,\n          },\n        ]}\n      >\n        { slots.activator && (\n          <VDefaultsProvider\n            defaults={{\n              VListItem: {\n                active: isOpen.value,\n                activeColor: props.activeColor,\n                color: props.color,\n                prependIcon: props.prependIcon || (props.subgroup && toggleIcon.value),\n                appendIcon: props.appendIcon || (!props.subgroup && toggleIcon.value),\n                title: props.title,\n                value: props.value,\n              },\n            }}\n          >\n            <VListGroupActivator>\n              { slots.activator({ props: activatorProps.value, isOpen }) }\n            </VListGroupActivator>\n          </VDefaultsProvider>\n        ) }\n\n        <VExpandTransition>\n          <div class=\"v-list-group__items\" role=\"group\" aria-labelledby={ id.value } v-show={ isOpen.value }>\n            { slots.default?.() }\n          </div>\n        </VExpandTransition>\n      </props.tag>\n    ))\n\n    return {}\n  },\n})\n\nexport type VListGroup = InstanceType<typeof VListGroup>\n\nexport function filterListGroupProps (props: ExtractPropTypes<ReturnType<typeof makeVListGroupProps>>) {\n  return pick(props, Object.keys(VListGroup.props) as any)\n}\n"],"mappings":"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"}