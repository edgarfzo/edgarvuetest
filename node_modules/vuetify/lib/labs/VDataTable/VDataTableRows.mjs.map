{"version":3,"file":"VDataTableRows.mjs","names":["VDataTableGroupHeaderRow","VDataTableRow","useExpanded","useHeaders","useLocale","defineComponent","useRender","VDataTableRows","name","props","loading","Boolean","String","loadingText","type","default","hideNoData","items","Array","noDataText","rowHeight","Number","emits","event","value","setup","emit","slots","columns","expanded","expand","expandOnClick","t","undefined","length","map","item","index","id","has"],"sources":["../../../src/labs/VDataTable/VDataTableRows.tsx"],"sourcesContent":["// Components\nimport { VDataTableGroupHeaderRow } from './VDataTableGroupHeaderRow'\nimport { VDataTableRow } from './VDataTableRow'\n\n// Composables\nimport { useExpanded } from './composables/expand'\nimport { useHeaders } from './composables/headers'\nimport { useLocale } from '@/composables/locale'\n\n// Utilities\nimport { defineComponent, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { DataTableItem, InternalDataTableItem } from './types'\n\nexport const VDataTableRows = defineComponent({\n  name: 'VDataTableRows',\n\n  props: {\n    loading: [Boolean, String],\n    loadingText: {\n      type: String,\n      default: '$vuetify.dataIterator.loadingText',\n    },\n    hideNoData: Boolean,\n    items: {\n      type: Array as PropType<InternalDataTableItem[]>,\n      default: () => ([]),\n    },\n    noDataText: {\n      type: String,\n      default: '$vuetify.noDataText',\n    },\n    rowHeight: Number,\n  },\n\n  emits: {\n    'click:row': (event: Event, value: { item: DataTableItem }) => true,\n  },\n\n  setup (props, { emit, slots }) {\n    const { columns } = useHeaders()\n    const { expanded, expand, expandOnClick } = useExpanded()\n    const { t } = useLocale()\n\n    useRender(() => (\n      <>\n        { props.loading ? slots.loading?.() ?? (\n          <VDataTableRow\n            class=\"v-data-table-rows-no-data\"\n            key=\"loading\"\n          >\n            { t(props.loadingText) }\n          </VDataTableRow>\n        ) : undefined }\n\n        { !props.loading && !props.items.length && !props.hideNoData && (slots['no-data']?.() ?? (\n          <VDataTableRow\n            class=\"v-data-table-rows-no-data\"\n            key=\"no-data\"\n          >\n            { t(props.noDataText) }\n          </VDataTableRow>\n        )) }\n\n        { props.items.map((item, index) => {\n          if (item.type === 'group-header') {\n            return (\n              <VDataTableGroupHeaderRow\n                key={ `group-header_${item.id}` }\n                item={ item }\n                v-slots={ slots }\n              />\n            )\n          }\n\n          return (\n            <>\n              <VDataTableRow\n                key={ `item_${item.value}` }\n                onClick={ (event: Event) => {\n                  if (expandOnClick.value) {\n                    expand(item, !expanded.value.has(item.value))\n                  }\n\n                  emit('click:row', event, { item })\n                } }\n                item={ item }\n                v-slots={ slots }\n              />\n\n              { expanded.value.has(item.value) && slots['expanded-row']?.({ item, columns: columns.value }) }\n            </>\n          )\n        }) }\n      </>\n    ))\n\n    return {}\n  },\n})\n\nexport type VDataTableRows = InstanceType<typeof VDataTableRows>\n"],"mappings":";AAAA;AAAA,SACSA,wBAAwB;AAAA,SACxBC,aAAa,+BAEtB;AAAA,SACSC,WAAW;AAAA,SACXC,UAAU;AAAA,SACVC,SAAS,wCAElB;AAAA,SACSC,eAAe,EAAEC,SAAS,gCAEnC;AAIA,OAAO,MAAMC,cAAc,GAAGF,eAAe,CAAC;EAC5CG,IAAI,EAAE,gBAAgB;EAEtBC,KAAK,EAAE;IACLC,OAAO,EAAE,CAACC,OAAO,EAAEC,MAAM,CAAC;IAC1BC,WAAW,EAAE;MACXC,IAAI,EAAEF,MAAM;MACZG,OAAO,EAAE;IACX,CAAC;IACDC,UAAU,EAAEL,OAAO;IACnBM,KAAK,EAAE;MACLH,IAAI,EAAEI,KAA0C;MAChDH,OAAO,EAAE,MAAO;IAClB,CAAC;IACDI,UAAU,EAAE;MACVL,IAAI,EAAEF,MAAM;MACZG,OAAO,EAAE;IACX,CAAC;IACDK,SAAS,EAAEC;EACb,CAAC;EAEDC,KAAK,EAAE;IACL,WAAW,EAAE,CAACC,KAAY,EAAEC,KAA8B,KAAK;EACjE,CAAC;EAEDC,KAAK,CAAEhB,KAAK,QAAmB;IAAA,IAAjB;MAAEiB,IAAI;MAAEC;IAAM,CAAC;IAC3B,MAAM;MAAEC;IAAQ,CAAC,GAAGzB,UAAU,EAAE;IAChC,MAAM;MAAE0B,QAAQ;MAAEC,MAAM;MAAEC;IAAc,CAAC,GAAG7B,WAAW,EAAE;IACzD,MAAM;MAAE8B;IAAE,CAAC,GAAG5B,SAAS,EAAE;IAEzBE,SAAS,CAAC;MAAA;MAAA,sCAEJG,KAAK,CAACC,OAAO,GAAG,mBAAAiB,KAAK,CAACjB,OAAO,qBAAb,oBAAAiB,KAAK,CAAY;QAAA,SAEzB,2BAA2B;QAAA,OAC7B;MAAS;QAAA,gBAEXK,CAAC,CAACvB,KAAK,CAACI,WAAW,CAAC;MAAA,EAEzB,GAAGoB,SAAS,EAEX,CAACxB,KAAK,CAACC,OAAO,IAAI,CAACD,KAAK,CAACQ,KAAK,CAACiB,MAAM,IAAI,CAACzB,KAAK,CAACO,UAAU,KAAK,kBAAAW,KAAK,CAAC,SAAS,CAAC,qBAAhB,mBAAAA,KAAK,CAAe;QAAA,SAE3E,2BAA2B;QAAA,OAC7B;MAAS;QAAA,gBAEXK,CAAC,CAACvB,KAAK,CAACU,UAAU,CAAC;MAAA,EAExB,CAAC,EAEAV,KAAK,CAACQ,KAAK,CAACkB,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;QAAA;QACjC,IAAID,IAAI,CAACtB,IAAI,KAAK,cAAc,EAAE;UAChC;YAAA,OAEW,gBAAesB,IAAI,CAACE,EAAG,EAAC;YAAA,QACxBF;UAAI,GACDT,KAAK;QAGrB;QAEA;UAAA,OAGa,QAAOS,IAAI,CAACZ,KAAM,EAAC;UAAA,WACfD,KAAY,IAAK;YAC1B,IAAIQ,aAAa,CAACP,KAAK,EAAE;cACvBM,MAAM,CAACM,IAAI,EAAE,CAACP,QAAQ,CAACL,KAAK,CAACe,GAAG,CAACH,IAAI,CAACZ,KAAK,CAAC,CAAC;YAC/C;YAEAE,IAAI,CAAC,WAAW,EAAEH,KAAK,EAAE;cAAEa;YAAK,CAAC,CAAC;UACpC,CAAC;UAAA,QACMA;QAAI,GACDT,KAAK,GAGfE,QAAQ,CAACL,KAAK,CAACe,GAAG,CAACH,IAAI,CAACZ,KAAK,CAAC,2BAAIG,KAAK,CAAC,cAAc,CAAC,qBAArB,wBAAAA,KAAK,EAAmB;UAAES,IAAI;UAAER,OAAO,EAAEA,OAAO,CAACJ;QAAM,CAAC,CAAC;MAGnG,CAAC,CAAC;IAAA,CAEL,CAAC;IAEF,OAAO,CAAC,CAAC;EACX;AACF,CAAC,CAAC"}